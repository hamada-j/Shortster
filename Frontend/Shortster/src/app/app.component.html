<mat-toolbar color="primary">
  <mat-toolbar-row>
    <div fxFlex fxLayout="row" fxLayoutAlign="flex-end">
      <ul fxLayout="row" fxLayoutGap="20px">
        <li>
          <button mat-button>
            <span
              [ngStyle]="
                connect == false ? { color: 'red' } : { color: 'green' }
              "
              class="material-icons"
              >cloud_done</span
            >
          </button>
        </li>
      </ul>
    </div>
  </mat-toolbar-row>
</mat-toolbar>

<mat-drawer-container>
  <mat-drawer-content>
    <div fxFlex fxLayout="row" fxLayoutAlign="center">
      <mat-tab-group mat-align-tabs="center">
        <mat-tab label="Basic">
          <div class="Basic">
            <form [formGroup]="shortForm" (ngSubmit)="onSubmit()" class="Form">
              <div class="example-container">
                <mat-form-field appearance="fill" class="FormField">
                  <mat-label>Enter a valid URL</mat-label>
                  <input
                    type="url"
                    matInput
                    placeholder="https://www.validurl.io"
                    formControlName="url"
                    required
                  />
                </mat-form-field>
              </div>

              <div>
                <button
                  mat-button
                  color="primary"
                  type="submit"
                  value="send"
                  class="btn btn-block btn-success"
                >
                  Add
                </button>
              </div>
            </form>
          </div>
        </mat-tab>
        <mat-tab label="Custom">
          <div class="Basic">
            <form
              [formGroup]="customForm"
              (ngSubmit)="onSubmitCustom()"
              class="Form"
            >
              <div class="example-container">
                <mat-form-field appearance="fill" class="FormField">
                  <mat-label>Enter a valid URL</mat-label>
                  <input
                    type="url"
                    matInput
                    placeholder="https://www.validurl.io"
                    formControlName="url"
                    required
                  />
                </mat-form-field>
              </div>
              <div class="example-container">
                <mat-form-field appearance="fill" class="FormField">
                  <mat-label>Enter a valid ShortID</mat-label>
                  <input
                    type="text"
                    matInput
                    placeholder="ABc456"
                    formControlName="short"
                    required
                  />
                </mat-form-field>
              </div>

              <div>
                <button
                  mat-button
                  color="primary"
                  type="submit"
                  value="send"
                  class="btn btn-block btn-success"
                >
                  Add
                </button>
              </div>
            </form>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </mat-drawer-content>
</mat-drawer-container>

<mat-drawer-container>
  <mat-drawer-content>
    <table
      mat-table
      [dataSource]="dataSource"
      multiTemplateDataRows
      class="mat-elevation-z8"
    >
      <ng-container
        matColumnDef="{{ column }}"
        *ngFor="let column of columnsToDisplay"
      >
        <th mat-header-cell *matHeaderCellDef>{{ column }}</th>

        <td mat-cell *matCellDef="let element">
          {{ element[column] }}
        </td>
      </ng-container>
      <ng-container matColumnDef="expandedDetail">
        <td
          mat-cell
          *matCellDef="let element"
          [attr.colspan]="columnsToDisplay.length"
        >
          <div
            class="example-element-detail"
            [@detailExpand]="
              element == expandedElement ? 'expanded' : 'collapsed'
            "
          >
            <div class="example-element-description">
              <button
                mat-raised-button
                color="primary"
                (click)="handleDelete(element?._id)"
              >
                <span class="material-icons"> restore_from_trash </span>
              </button>
            </div>
            <div class="example-element-description">
              <button
                mat-raised-button
                color="accent"
                (click)="handleCopy(element?.short)"
              >
                <span class="material-icons"> content_copy </span>
              </button>
            </div>
            <div class="example-element-description">
              <button
                mat-raised-button
                color="accent"
                (click)="handleCopyURL(element?.full)"
              >
                <span class="material-icons"> description </span>
              </button>
            </div>
            <div class="example-element-description">
              <button
                mat-raised-button
                color="accent"
                (click)="handleOpen(element?.short)"
              >
                {{ element?.short }}
              </button>
            </div>

            <div class="example-element-description">
              <p
                style="
                  text-align: center;
                  color: rgb(19, 13, 13);
                  font-size: 15px;
                "
              >
                The ShortID was created: {{ element?.created | date }} and
                <br />
                the last visit {{ element?.lastVisit | date }}
              </p>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr
        mat-row
        *matRowDef="let element; columns: columnsToDisplay"
        class="example-element-row"
        [class.example-expanded-row]="expandedElement === element"
        (click)="expandedElement = expandedElement === element ? null : element"
      ></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: ['expandedDetail']"
        class="example-detail-row"
      ></tr>
    </table>

    <!-- <tr>
      <mat-selection-list #selected [multiple]="false">
        <th style="display: flex">
          <mat-list-option
            *ngFor="let option of columnsToDisplay"
            [value]="option"
            >{{ option }}
          </mat-list-option>
        </th>
        <mat-list-option *ngFor="let element of dataSource" [value]="element">
          <td
            style="display: flex; justify-content: space-between"
            (click)="handleRedirect($event)"
          >
            <p>
              <span>{{ element.full }}</span>
            </p>
            <p>
              <span>
                {{ element.short }}
              </span>
            </p>
            <p>
              <span>{{ element.clicks }}</span>
            </p>
            <p>
              <span>{{ element.created | date }}</span>
            </p>
            <p>
              <span>{{ element.lastVisit | date }}</span>
            </p>
          </td>
        </mat-list-option>
      </mat-selection-list>
    </tr> -->

    <!-- <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="full">
        <th mat-header-cell *matHeaderCellDef>Full URL</th>
        <td mat-cell *matCellDef="let element">{{ element.full }}</td>
      </ng-container>


      <ng-container matColumnDef="short">
        <th mat-header-cell *matHeaderCellDef>ShortID</th>
        <td mat-cell *matCellDef="let element">{{ element.short }}</td>
      </ng-container>


      <ng-container matColumnDef="clicks">
        <th mat-header-cell *matHeaderCellDef>Clicks</th>
        <td mat-cell *matCellDef="let element">{{ element.clicks }}</td>
      </ng-container>


      <ng-container matColumnDef="created">
        <th mat-header-cell *matHeaderCellDef>Created</th>
        <td mat-cell *matCellDef="let element">{{ element.created | date }}</td>
      </ng-container>
      <ng-container matColumnDef="lastVisit">
        <th mat-header-cell *matHeaderCellDef>Last Visit</th>
        <td mat-cell *matCellDef="let element">
          {{ element.lastVisit | date }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
    </table> -->
  </mat-drawer-content>
</mat-drawer-container>
<mat-divider></mat-divider>

<footer>
  &copy; This is my App for the MovingWorlds Challenge 2021 HamadaÂ®
</footer>

<!-- <div class="all">
  <div class="logo">
    <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <title>AngularJS</title>
      <path
        d="M11.964 0L.672 3.974l1.784 14.794L11.976 24l9.568-5.303 1.784-14.794zm-.027 1.258l10.265 3.5-1.663 13.232-8.602 4.76-8.469-4.697L1.939 4.822zm0 .78L4.957 17.57l2.604-.048 1.4-3.501h6.257l1.532 3.55 2.492.046zm.02 4.98l2.355 4.93H9.878Z"
      />
    </svg>
  </div>

</div> -->
